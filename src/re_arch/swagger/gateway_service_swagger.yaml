swagger: '2.0'
info:
  title: Luna.Gateway.Functions
  version: V1
host: localhost:7071
schemes:
  - http
paths:
  '/api/manage/eventstores/{name}':
    get:
      tags:
        - Event Store
      summary: Get event store connection string
      operationId: getApiManageEventstoresByName
      produces:
        - application/json
      parameters:
        - in: path
          name: name
          description: Name of the event store
          required: true
          type: string
      responses:
        '200':
          description: Success
          schema:
            $ref: '#/definitions/Luna.PubSub.Public.Client.EventStoreInfo'
      security:
        - http-bearer: [ ]
  '/api/marketplace/offers/{offerId}':
    delete:
      tags:
        - Azure Marketplace
      summary: Delete an Azure Marketplace SaaS offer
      operationId: deleteApiMarketplaceOffersByOfferId
      parameters:
        - in: path
          name: offerId
          description: Id of marketplace SaaS offer
          required: true
          type: string
      responses:
        '204':
          description: Success
      security:
        - x-functions-key: [ ]
  '/api/marketplace/offers/{offerId}/publish':
    post:
      tags:
        - Azure Marketplace
      summary: Publish an Azure Marketplace SaaS offer
      operationId: postApiMarketplaceOffersByOfferIdPublish
      parameters:
        - in: path
          name: offerId
          description: Id of marketplace SaaS offer
          required: true
          type: string
      responses:
        '204':
          description: Success
      security:
        - x-functions-key: [ ]
  '/api/marketplace/offers/{offerId}/plans/{planId}':
    delete:
      tags:
        - Azure Marketplace
      summary: Delete a plan in an Azure Marketplace SaaS offer
      operationId: deleteApiMarketplaceOffersByOfferIdPlansByPlanId
      parameters:
        - in: path
          name: offerId
          description: Id of marketplace SaaS offer
          required: true
          type: string
        - in: path
          name: planId
          description: Id of marketplace SaaS plan
          required: true
          type: string
      responses:
        '204':
          description: Success
      security:
        - x-functions-key: [ ]
  /api/marketplace/subscriptions/resolveToken:
    post:
      tags:
        - Azure Marketplace
      summary: Resolve Azure Marketplace subscription from token
      operationId: postApiMarketplaceSubscriptionsResolveToken
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: body
          name: body
          description: Token
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Success
          schema:
            $ref: '#/definitions/Luna.Gallery.Public.Client.MarketplaceSubscription'
      security:
        - x-functions-key: [ ]
  '/api/marketplace/subscriptions/{subscriptionId}':
    put:
      tags:
        - Azure Marketplace
      summary: Create Azure Marketplace subscription
      operationId: putApiMarketplaceSubscriptionsBySubscriptionId
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: path
          name: subscriptionId
          description: ID of the subscription
          required: true
          type: string
        - in: body
          name: body
          description: The subscription
          required: true
          schema:
            $ref: '#/definitions/Luna.Gallery.Public.Client.MarketplaceSubscription'
      responses:
        '200':
          description: Success
          schema:
            $ref: '#/definitions/Luna.Gallery.Public.Client.MarketplaceSubscription'
      security:
        - x-functions-key: [ ]
    get:
      tags:
        - Azure Marketplace
      summary: Get Azure Marketplace subscription
      operationId: getApiMarketplaceSubscriptionsBySubscriptionId
      produces:
        - application/json
      parameters:
        - in: path
          name: subscriptionId
          description: ID of the subscription
          required: true
          type: string
      responses:
        '200':
          description: Success
          schema:
            $ref: '#/definitions/Luna.Gallery.Public.Client.MarketplaceSubscription'
      security:
        - x-functions-key: [ ]
  /api/marketplace/subscriptions:
    get:
      tags:
        - Azure Marketplace
      summary: List Azure Marketplace subscriptions
      operationId: getApiMarketplaceSubscriptions
      produces:
        - application/json
      responses:
        '200':
          description: Success
          schema:
            type: array
            items:
              $ref: '#/definitions/Luna.Gallery.Public.Client.MarketplaceSubscription'
            example:
              Id: 7de85fed-9f81-44c0-ab36-d4540064200e
              PublisherId: ms-ace
              OfferId: textanalytics
              Name: My sub
              SaaSSubscriptionStatus: Subscribed
              PlanId: default
              AllowedCustomerOperations: [ ]
              Token: 
              InputParameters: [ ]
      security:
        - x-functions-key: [ ]
  /api/marketplace/webhook:
    post:
      tags:
        - Azure Marketplace
      summary: Marketplace webhooks
      operationId: postApiMarketplaceWebhook
      responses:
        '204':
          description: Success
      security:
        - x-functions-key: [ ]
  '/api/manage/applications/{name}/regeneratemasterkeys':
    post:
      tags:
        - Applications
      summary: Regenerate application master key
      operationId: postApiManageApplicationsByNameRegeneratemasterkeys
      produces:
        - application/json
      parameters:
        - in: path
          name: name
          description: Name of the application
          required: true
          type: string
        - in: query
          name: key-name
          description: Name of key
          required: true
          type: string
      responses:
        '200':
          description: Success
          schema:
            $ref: '#/definitions/Luna.Publish.Public.Client.LunaApplicationMasterKeysResponse'
      security:
        - http-bearer: [ ]
  /api/manage/applications:
    get:
      tags:
        - Applications
      summary: List applications
      operationId: getApiManageApplications
      produces:
        - application/json
      responses:
        '200':
          description: Success
          schema:
            type: array
            items:
              $ref: '#/definitions/Luna.Publish.Public.Client.LunaApplication'
      security:
        - http-bearer: [ ]
  '/api/manage/applications/{name}/masterkeys':
    get:
      tags:
        - Applications
      summary: Get application master keys
      operationId: getApiManageApplicationsByNameMasterkeys
      produces:
        - application/json
      parameters:
        - in: path
          name: name
          description: Name of the application
          required: true
          type: string
      responses:
        '200':
          description: Success
          schema:
            $ref: '#/definitions/Luna.Publish.Public.Client.LunaApplicationMasterKeysResponse'
      security:
        - http-bearer: [ ]
  '/api/manage/applications/{name}':
    put:
      tags:
        - Applications
      summary: Create a new Luna application
      operationId: putApiManageApplicationsByName
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: path
          name: name
          description: Name of the application
          required: true
          type: string
        - in: body
          name: body
          description: Request contract
          required: true
          schema:
            $ref: '#/definitions/Luna.Publish.Public.Client.LunaApplicationRequest'
      responses:
        '200':
          description: Success
          schema:
            $ref: '#/definitions/Luna.Publish.Public.Client.LunaApplicationResponse'
      security:
        - http-bearer: [ ]
    patch:
      tags:
        - Applications
      summary: Update a Luna application
      operationId: patchApiManageApplicationsByName
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: path
          name: name
          description: Name of the application
          required: true
          type: string
        - in: body
          name: body
          description: Request contract
          required: true
          schema:
            $ref: '#/definitions/Luna.Publish.Public.Client.LunaApplicationProp'
      responses:
        '200':
          description: Success
          schema:
            $ref: '#/definitions/Luna.Publish.Public.Client.LunaApplicationProp'
      security:
        - http-bearer: [ ]
    delete:
      tags:
        - Applications
      summary: Delete a Luna application
      operationId: deleteApiManageApplicationsByName
      parameters:
        - in: path
          name: name
          description: Name of the application
          required: true
          type: string
      responses:
        '204':
          description: Success
      security:
        - http-bearer: [ ]
    get:
      tags:
        - Applications
      summary: Get a Luna application
      operationId: getApiManageApplicationsByName
      produces:
        - application/json
      parameters:
        - in: path
          name: name
          description: Name of the application
          required: true
          type: string
      responses:
        '200':
          description: Success
          schema:
            $ref: '#/definitions/Luna.Publish.Public.Client.LunaApplicationResponse'
      security:
        - http-bearer: [ ]
  '/api/manage/applications/{appName}/apis/{apiName}':
    put:
      tags:
        - Applications
      summary: Create an API in a Luna application
      operationId: putApiManageApplicationsByAppNameApisByApiName
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: path
          name: appName
          description: Name of the application
          required: true
          type: string
        - in: path
          name: apiName
          description: Name of the API
          required: true
          type: string
        - in: body
          name: body
          description: Request contract
          required: true
          schema:
            $ref: '#/definitions/Luna.Publish.Public.Client.BaseLunaAPIProp'
      responses:
        '200':
          description: Success
          schema:
            $ref: '#/definitions/Luna.Publish.Public.Client.BaseLunaAPIProp'
      security:
        - http-bearer: [ ]
    patch:
      tags:
        - Applications
      summary: Update an API in a Luna application
      operationId: patchApiManageApplicationsByAppNameApisByApiName
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: path
          name: appName
          description: Name of the application
          required: true
          type: string
        - in: path
          name: apiName
          description: Name of the API
          required: true
          type: string
        - in: body
          name: body
          description: Request contract
          required: true
          schema:
            $ref: '#/definitions/Luna.Publish.Public.Client.BaseLunaAPIProp'
      responses:
        '200':
          description: Success
          schema:
            $ref: '#/definitions/Luna.Publish.Public.Client.BaseLunaAPIProp'
      security:
        - http-bearer: [ ]
    delete:
      tags:
        - Applications
      summary: Delete an API from a Luna application
      operationId: deleteApiManageApplicationsByAppNameApisByApiName
      parameters:
        - in: path
          name: appName
          description: Name of the application
          required: true
          type: string
        - in: path
          name: apiName
          description: Name of the API
          required: true
          type: string
      responses:
        '204':
          description: Success
      security:
        - http-bearer: [ ]
  '/api/manage/applications/{appName}/apis/{apiName}/versions/{versionName}':
    put:
      tags:
        - Applications
      summary: Create a new version in a Luna API
      operationId: putApiManageApplicationsByAppNameApisByApiNameVersionsByVersionName
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: path
          name: appName
          description: Name of the application
          required: true
          type: string
        - in: path
          name: apiName
          description: Name of the API
          required: true
          type: string
        - in: path
          name: versionName
          description: Name of the Version
          required: true
          type: string
        - in: body
          name: body
          description: Request contract
          required: true
          schema:
            $ref: '#/definitions/Luna.Publish.Public.Client.BaseAPIVersionProp'
      responses:
        '200':
          description: Success
          schema:
            $ref: '#/definitions/Luna.Publish.Public.Client.BaseAPIVersionProp'
      security:
        - http-bearer: [ ]
    patch:
      tags:
        - Applications
      summary: Update a new version in a Luna API
      operationId: patchApiManageApplicationsByAppNameApisByApiNameVersionsByVersionName
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: path
          name: appName
          description: Name of the application
          required: true
          type: string
        - in: path
          name: apiName
          description: Name of the API
          required: true
          type: string
        - in: path
          name: versionName
          description: Name of the Version
          required: true
          type: string
        - in: body
          name: body
          description: Request contract
          required: true
          schema:
            $ref: '#/definitions/Luna.Publish.Public.Client.BaseAPIVersionProp'
      responses:
        '200':
          description: Success
          schema:
            $ref: '#/definitions/Luna.Publish.Public.Client.BaseAPIVersionProp'
      security:
        - http-bearer: [ ]
    delete:
      tags:
        - Applications
      summary: Delete a new version in a Luna API
      operationId: deleteApiManageApplicationsByAppNameApisByApiNameVersionsByVersionName
      parameters:
        - in: path
          name: appName
          description: Name of the application
          required: true
          type: string
        - in: path
          name: apiName
          description: Name of the API
          required: true
          type: string
        - in: path
          name: versionName
          description: Name of the Version
          required: true
          type: string
      responses:
        '204':
          description: Success
      security:
        - http-bearer: [ ]
  '/api/manage/applications/{name}/publish':
    post:
      tags:
        - Applications
      summary: Publish a Luna application
      operationId: postApiManageApplicationsByNamePublish
      parameters:
        - in: path
          name: name
          description: Name of the application
          required: true
          type: string
      responses:
        '204':
          description: Success
      security:
        - http-bearer: [ ]
  /manage/rbac/roleassignments/remove:
    post:
      tags:
        - RBAC
      summary: Remove role assignment
      operationId: postManageRbacRoleassignmentsRemove
      consumes:
        - application/json
      parameters:
        - in: body
          name: body
          description: Request contract
          required: true
          schema:
            $ref: '#/definitions/Luna.RBAC.Public.Client.RoleAssignmentRequest'
      responses:
        '204':
          description: Success
      security:
        - http-bearer: [ ]
  /manage/rbac/roleassignments/add:
    post:
      tags:
        - RBAC
      summary: Add role assignment
      operationId: postManageRbacRoleassignmentsAdd
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: body
          name: body
          description: Request contract
          required: true
          schema:
            $ref: '#/definitions/Luna.RBAC.Public.Client.RoleAssignmentRequest'
      responses:
        '200':
          description: Request contract
          schema:
            type: array
            items:
              $ref: '#/definitions/Luna.RBAC.Public.Client.RoleAssignmentResponse'
            example:
              Uid: b46324b3-6a92-4e35-84be-fa1b2919af69
              UserName: FirstName LastName
              Role: SystemAdmin
              CreatedTime: '0001-01-01T00:00:00.0000000-08:00'
      security:
        - http-bearer: [ ]
  /manage/rbac/roleassignments:
    get:
      tags:
        - RBAC
      summary: List role assignments
      operationId: getManageRbacRoleassignments
      responses:
        '204':
          description: Success
      security:
        - http-bearer: [ ]
  '/api/manage/partnerservices/{name}':
    put:
      tags:
        - Partner Service
      summary: Register a partner service
      operationId: putApiManagePartnerservicesByName
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: path
          name: name
          description: Name of the partner service
          required: true
          type: string
        - in: body
          name: body
          description: Request contract
          required: true
          schema:
            $ref: '#/definitions/Luna.Partner.Public.Client.BasePartnerServiceConfiguration'
      responses:
        '200':
          description: Success
          schema:
            $ref: '#/definitions/Luna.Partner.Public.Client.BasePartnerServiceConfiguration'
      security:
        - http-bearer: [ ]
    patch:
      tags:
        - Partner Service
      summary: Update a partner service
      operationId: patchApiManagePartnerservicesByName
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: path
          name: name
          description: Name of the partner service
          required: true
          type: string
        - in: body
          name: body
          description: Request contract
          required: true
          schema:
            $ref: '#/definitions/Luna.Partner.Public.Client.BasePartnerServiceConfiguration'
      responses:
        '200':
          description: Success
          schema:
            $ref: '#/definitions/Luna.Partner.Public.Client.BasePartnerServiceConfiguration'
      security:
        - http-bearer: [ ]
    delete:
      tags:
        - Partner Service
      summary: Remove a registered partner service
      operationId: deleteApiManagePartnerservicesByName
      parameters:
        - in: path
          name: name
          description: Name of the partner service
          required: true
          type: string
      responses:
        '204':
          description: Success
      security:
        - http-bearer: [ ]
    get:
      tags:
        - Partner Service
      summary: Get a partner service
      operationId: getApiManagePartnerservicesByName
      produces:
        - application/json
      parameters:
        - in: path
          name: name
          description: Name of the partner service
          required: true
          type: string
      responses:
        '200':
          description: Success
          schema:
            $ref: '#/definitions/Luna.Partner.Public.Client.BasePartnerServiceConfiguration'
      security:
        - http-bearer: [ ]
  /api/manage/partnerservices:
    get:
      tags:
        - Partner Service
      summary: List all partner services
      operationId: getApiManagePartnerservices
      produces:
        - application/json
      parameters:
        - in: query
          name: type
          description: Type of partner service
          required: true
          type: string
      responses:
        '200':
          description: Success
          schema:
            type: array
            items:
              $ref: '#/definitions/Luna.Partner.Public.Client.PartnerServiceOutlineResponse'
            example:
              UniqueName: amlworkspace
              DisplayName: My AML workspace
              Type: AzureML
              Description: This is my AML workspace
              Tags: department=hr
              CreatedTime: '2021-06-10T18:00:30.1320267-07:00'
              LastUpdatedTime: '2021-06-10T18:00:30.1320267-07:00'
      security:
        - http-bearer: [ ]
  /api/manage/partnerservices/metadata/hostservicetypes:
    get:
      tags:
        - Partner Service
      summary: List supported ML host service types
      operationId: getApiManagePartnerservicesMetadataHostservicetypes
      produces:
        - application/json
      responses:
        '200':
          description: Success
          schema:
            type: array
            items:
              $ref: '#/definitions/Luna.Partner.Public.Client.ServiceType'
            example:
              Id: AzureML
              DisplayName: Azure Machine Learning workspace
      security:
        - http-bearer: [ ]
  '/api/manage/partnerservices/metadata/{serviceType}/mlcomponenttypes':
    get:
      tags:
        - Partner Service
      summary: List supported ML component types by a partner service
      operationId: getApiManagePartnerservicesMetadataByServiceTypeMlcomponenttypes
      produces:
        - application/json
      parameters:
        - in: path
          name: serviceType
          description: The type of partner service
          required: true
          type: string
      responses:
        '200':
          description: Success
          schema:
            type: array
            items:
              $ref: '#/definitions/Luna.Partner.Public.Client.ComponentType'
            example:
              Id: Realtime
              DisplayName: Realtime endpoints
      security:
        - http-bearer: [ ]
  '/api/manage/partnerservices/{serviceName}/mlcomponents/{componentType}':
    get:
      tags:
        - Partner Service
      summary: List specified type of ML components hosted by a partner service
      operationId: getApiManagePartnerservicesByServiceNameMlcomponentsByComponentType
      produces:
        - application/json
      parameters:
        - in: path
          name: serviceName
          description: The name of partner service
          required: true
          type: string
        - in: path
          name: componentType
          description: The type of the component
          required: true
          type: string
      responses:
        '200':
          description: Success
          schema:
            type: array
            items:
              $ref: '#/definitions/Luna.Partner.Public.Client.BaseMLComponent'
            example:
              Type: Realtime
              Id: myendpoint
              Name: My Endpoint
      security:
        - http-bearer: [ ]
  /api/manage/partnerservices/metadata/computeservicetypes:
    get:
      tags:
        - Partner Service
      summary: List supported ML compute service types
      operationId: getApiManagePartnerservicesMetadataComputeservicetypes
      produces:
        - application/json
      responses:
        '200':
          description: Success
          schema:
            type: array
            items:
              $ref: '#/definitions/Luna.Partner.Public.Client.ServiceType'
            example:
              Id: AzureML
              DisplayName: Azure Machine Learning workspace
      security:
        - http-bearer: [ ]
  '/api/manage/partnerservices/azureml/{name}':
    put:
      tags:
        - Partner Service - deprecated
      summary: Add Azure ML workspace as a partner service
      operationId: putApiManagePartnerservicesAzuremlByName
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: path
          name: name
          description: Name of the partner service
          required: true
          type: string
        - in: body
          name: body
          description: Request contract
          required: true
          schema:
            $ref: '#/definitions/Luna.Partner.Public.Client.AzureMLWorkspaceConfiguration'
      responses:
        '200':
          description: Success
          schema:
            $ref: '#/definitions/Luna.Partner.Public.Client.AzureMLWorkspaceConfiguration'
      security:
        - http-bearer: [ ]
    patch:
      tags:
        - Partner Service - deprecated
      summary: Update Azure ML workspace as a partner service
      operationId: patchApiManagePartnerservicesAzuremlByName
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: path
          name: name
          description: Name of the partner service
          required: true
          type: string
        - in: body
          name: body
          description: Request contract
          required: true
          schema:
            $ref: '#/definitions/Luna.Partner.Public.Client.AzureMLWorkspaceConfiguration'
      responses:
        '200':
          description: Success
          schema:
            $ref: '#/definitions/Luna.Partner.Public.Client.AzureMLWorkspaceConfiguration'
      security:
        - http-bearer: [ ]
    delete:
      tags:
        - Partner Service - deprecated
      summary: Remove Azure ML workspace as a partner service
      operationId: deleteApiManagePartnerservicesAzuremlByName
      parameters:
        - in: path
          name: name
          description: Name of the partner service
          required: true
          type: string
      responses:
        '204':
          description: Success
      security:
        - http-bearer: [ ]
    get:
      tags:
        - Partner Service - deprecated
      summary: Get an Azure ML workspace as a partner service
      operationId: getApiManagePartnerservicesAzuremlByName
      produces:
        - application/json
      parameters:
        - in: path
          name: name
          description: Name of the partner service
          required: true
          type: string
      responses:
        '200':
          description: Success
          schema:
            $ref: '#/definitions/Luna.Partner.Public.Client.AzureMLWorkspaceConfiguration'
      security:
        - http-bearer: [ ]
  /api/manage/partnerservices/azureml:
    get:
      tags:
        - Partner Service - deprecated
      summary: List Azure ML workspaces registered as a partner service
      operationId: getApiManagePartnerservicesAzureml
      produces:
        - application/json
      responses:
        '200':
          description: Success
          schema:
            type: array
            items:
              $ref: '#/definitions/Luna.Partner.Public.Client.PartnerServiceOutlineResponse'
            example:
              UniqueName: amlworkspace
              DisplayName: My AML workspace
              Type: AzureML
              Description: This is my AML workspace
              Tags: department=hr
              CreatedTime: '2021-06-10T18:00:30.1320267-07:00'
              LastUpdatedTime: '2021-06-10T18:00:30.1320267-07:00'
      security:
        - http-bearer: [ ]
  '/api/marketplace/offers/{offerId}/plans/{planId}/parameters':
    get:
      tags:
        - Gallery
      summary: Get offer parameters
      operationId: getApiMarketplaceOffersByOfferIdPlansByPlanIdParameters
      produces:
        - application/json
      parameters:
        - in: path
          name: offerId
          description: The offer ID
          required: true
          type: string
        - in: path
          name: planId
          description: The plan ID
          required: true
          type: string
      responses:
        '200':
          description: Success
          schema:
            type: array
            items:
              $ref: '#/definitions/Luna.Publish.Public.Client.MarketplaceParameter'
            example:
              ParameterName: region
              DisplayName: Region
              Description: The Azure region where resources are deployed to.
              ValueType: String
              FromList: true
              ValueList: westus;eastus
              Maximum: 0
              Minimum: 0
              IsRequired: false
      security:
        - x-functions-key: [ ]
  '/api/gallery/applications/{appName}':
    get:
      tags:
        - ML Gallery
      summary: Get a published Luna application
      operationId: getApiGalleryApplicationsByAppName
      produces:
        - application/json
      parameters:
        - in: path
          name: appName
          description: The name of the application
          required: true
          type: string
      responses:
        '200':
          description: Success
          schema:
            $ref: '#/definitions/Luna.Gallery.Public.Client.PublishedLunaApplication'
      security:
        - http-bearer: [ ]
  /api/gallery/applications:
    get:
      tags:
        - ML Gallery
      summary: List published Luna applications
      operationId: getApiGalleryApplications
      produces:
        - application/json
      responses:
        '200':
          description: Success
          schema:
            type: array
            items:
              $ref: '#/definitions/Luna.Gallery.Public.Client.PublishedLunaApplication'
            example:
              UniqueName: mylunaapp
              DisplayName: My Luna App
              Description: This is my Luna app
              LogoImageUrl: https://aka.ms/lunalog.png
              DocumentationUrl: https://aka.ms/lunadoc
              Publisher: Microsoft
              Tags: [ ]
              Details:
                APIs: [ ]
      security:
        - http-bearer: [ ]
  '/api/gallery/applications/{appName}/swagger':
    get:
      tags:
        - ML Gallery
      summary: Get swagger of a published Luna application
      operationId: getApiGalleryApplicationsByAppNameSwagger
      produces:
        - application/json
      parameters:
        - in: path
          name: appName
          description: The name of the application
          required: true
          type: string
      responses:
        '200':
          description: Success
          schema:
            $ref: '#/definitions/Luna.Gallery.Public.Client.LunaApplicationSwagger'
      security:
        - http-bearer: [ ]
  '/api/gallery/applications/{appName}/recommended':
    get:
      tags:
        - ML Gallery
      summary: Get recommended applications for the specified Luna application
      operationId: getApiGalleryApplicationsByAppNameRecommended
      produces:
        - application/json
      parameters:
        - in: path
          name: appName
          description: The name of the application
          required: true
          type: string
      responses:
        '200':
          description: Success
          schema:
            type: array
            items:
              $ref: '#/definitions/Luna.Gallery.Public.Client.PublishedLunaApplication'
            example:
              UniqueName: mylunaapp
              DisplayName: My Luna App
              Description: This is my Luna app
              LogoImageUrl: https://aka.ms/lunalog.png
              DocumentationUrl: https://aka.ms/lunadoc
              Publisher: Microsoft
              Tags: [ ]
              Details:
                APIs: [ ]
      security:
        - http-bearer: [ ]
  '/api/gallery/applications/{appName}/subscriptions/{subscriptionName}':
    put:
      tags:
        - ML Gallery
      summary: Create a subscription of a published Luna application
      operationId: putApiGalleryApplicationsByAppNameSubscriptionsBySubscriptionName
      produces:
        - application/json
      parameters:
        - in: path
          name: appName
          description: Name of the Luna application
          required: true
          type: string
        - in: path
          name: subscriptionName
          description: Name of the subscription
          required: true
          type: string
      responses:
        '200':
          description: Success
          schema:
            $ref: '#/definitions/Luna.Gallery.Public.Client.LunaApplicationSubscription'
      security:
        - http-bearer: [ ]
  '/api/gallery/applications/{appName}/subscriptions/{subscriptionNameOrId}':
    delete:
      tags:
        - ML Gallery
      summary: Delete a subscription of a published Luna application
      operationId: deleteApiGalleryApplicationsByAppNameSubscriptionsBySubscriptionNameOrId
      parameters:
        - in: path
          name: appName
          description: Name of the Luna application
          required: true
          type: string
        - in: path
          name: subscriptionNameOrId
          description: Name or id of the subscription
          required: true
          type: string
      responses:
        '204':
          description: Success
      security:
        - http-bearer: [ ]
    get:
      tags:
        - ML Gallery
      summary: Get a subscription of Luna application
      operationId: getApiGalleryApplicationsByAppNameSubscriptionsBySubscriptionNameOrId
      produces:
        - application/json
      parameters:
        - in: path
          name: appName
          description: The name of the application
          required: true
          type: string
        - in: path
          name: subscriptionNameOrId
          description: Name or id of the subscription
          required: true
          type: string
      responses:
        '200':
          description: Success
          schema:
            $ref: '#/definitions/Luna.Gallery.Public.Client.LunaApplicationSubscription'
      security:
        - http-bearer: [ ]
  '/api/gallery/applications/{appName}/subscriptions':
    get:
      tags:
        - ML Gallery
      summary: List all subscription of a Luna application for current user
      operationId: getApiGalleryApplicationsByAppNameSubscriptions
      produces:
        - application/json
      parameters:
        - in: path
          name: appName
          description: The name of the application
          required: true
          type: string
      responses:
        '200':
          description: Success
          schema:
            type: array
            items:
              $ref: '#/definitions/Luna.Gallery.Public.Client.LunaApplicationSubscription'
            example:
              SubscriptionId: 0eb1e9dd-df4e-4b03-9e8f-6d8ac0eab782
              SubscriptionName: mysub
              PrimaryKey: 60158cd36c464531bf40a6c7efc629cd
              SecondaryKey: fc7cfaab23b0494aa53f178f7fbc720c
              BaseUrl: https://luna.azurewebapp.net/api
              Notes: this is my subscription
              Owners:
                - UserId: c4627f84-c3a8-45b3-8709-565bd2e50b97
                  UserName: FirstName LastName
              CreatedTime: '2021-06-10T18:00:30.1320267-07:00'
      security:
        - http-bearer: [ ]
  '/api/gallery/applications/{appName}/subscriptions/{subscriptionNameOrId}/addOwner':
    post:
      tags:
        - ML Gallery
      summary: Add a owner to the specified subscription
      operationId: postApiGalleryApplicationsByAppNameSubscriptionsBySubscriptionNameOrIdAddOwner
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: path
          name: appName
          description: Name of the Luna application
          required: true
          type: string
        - in: path
          name: subscriptionNameOrId
          description: Name or id of the subscription
          required: true
          type: string
        - in: body
          name: body
          description: Request contract
          required: true
          schema:
            $ref: '#/definitions/Luna.Gallery.Public.Client.LunaApplicationSubscriptionOwner'
      responses:
        '200':
          description: Success
          schema:
            $ref: '#/definitions/Luna.Gallery.Public.Client.LunaApplicationSubscriptionOwner'
      security:
        - http-bearer: [ ]
  '/api/gallery/applications/{appName}/subscriptions/{subscriptionNameOrId}/removeOwner':
    post:
      tags:
        - ML Gallery
      summary: Remove a owner from the specified subscription
      operationId: postApiGalleryApplicationsByAppNameSubscriptionsBySubscriptionNameOrIdRemoveOwner
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: path
          name: appName
          description: Name of the Luna application
          required: true
          type: string
        - in: path
          name: subscriptionNameOrId
          description: Name or id of the subscription
          required: true
          type: string
        - in: body
          name: body
          description: Request contract
          required: true
          schema:
            $ref: '#/definitions/Luna.Gallery.Public.Client.LunaApplicationSubscriptionOwner'
      responses:
        '200':
          description: Success
          schema:
            $ref: '#/definitions/Luna.Gallery.Public.Client.LunaApplicationSubscriptionOwner'
      security:
        - http-bearer: [ ]
  '/api/gallery/applications/{appName}/subscriptions/{subscriptionNameOrId}/regenerateKey':
    post:
      tags:
        - ML Gallery
      summary: Regenerate key for the specified subscription
      operationId: postApiGalleryApplicationsByAppNameSubscriptionsBySubscriptionNameOrIdRegenerateKey
      produces:
        - application/json
      parameters:
        - in: path
          name: appName
          description: Name of the Luna application
          required: true
          type: string
        - in: path
          name: subscriptionNameOrId
          description: Name or id of the subscription
          required: true
          type: string
        - in: query
          name: key-name
          description: Name of the key
          required: true
          type: string
      responses:
        '200':
          description: Success
          schema:
            $ref: '#/definitions/Luna.Gallery.Public.Client.LunaApplicationSubscriptionKeys'
      security:
        - http-bearer: [ ]
  '/api/gallery/applications/{appName}/subscriptions/{subscriptionNameOrId}/updatenotes':
    post:
      tags:
        - ML Gallery
      summary: Update notes for the specified subscription
      operationId: postApiGalleryApplicationsByAppNameSubscriptionsBySubscriptionNameOrIdUpdatenotes
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: path
          name: appName
          description: Name of the Luna application
          required: true
          type: string
        - in: path
          name: subscriptionNameOrId
          description: Name or id of the subscription
          required: true
          type: string
        - in: body
          name: body
          description: Request contract
          required: true
          schema:
            $ref: '#/definitions/Luna.Gallery.Public.Client.LunaApplicationSubscriptionNotes'
      responses:
        '200':
          description: Success
          schema:
            $ref: '#/definitions/Luna.Gallery.Public.Client.LunaApplicationSubscriptionNotes'
      security:
        - http-bearer: [ ]
  '/api/gallery/applicationpublishers/{name}':
    put:
      tags:
        - ML Gallery
      summary: Register a publisher
      operationId: putApiGalleryApplicationpublishersByName
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: path
          name: name
          description: Name of the webhook
          required: true
          type: string
        - in: body
          name: body
          description: Request contract
          required: true
          schema:
            $ref: '#/definitions/Luna.Gallery.Public.Client.ApplicationPublisher'
      responses:
        '200':
          description: Success
          schema:
            $ref: '#/definitions/Luna.Gallery.Public.Client.ApplicationPublisher'
      security:
        - x-functions-key: [ ]
    patch:
      tags:
        - ML Gallery
      summary: Update a publisher
      operationId: patchApiGalleryApplicationpublishersByName
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: path
          name: name
          description: Name of the webhook
          required: true
          type: string
        - in: body
          name: body
          description: Request contract
          required: true
          schema:
            $ref: '#/definitions/Luna.Gallery.Public.Client.ApplicationPublisher'
      responses:
        '200':
          description: Success
          schema:
            $ref: '#/definitions/Luna.Gallery.Public.Client.ApplicationPublisher'
      security:
        - x-functions-key: [ ]
    delete:
      tags:
        - ML Gallery
      summary: Delete a publisher
      operationId: deleteApiGalleryApplicationpublishersByName
      parameters:
        - in: path
          name: name
          description: Name of the webhook
          required: true
          type: string
      responses:
        '204':
          description: Success
      security:
        - x-functions-key: [ ]
    get:
      tags:
        - ML Gallery
      summary: Get a publisher
      operationId: getApiGalleryApplicationpublishersByName
      produces:
        - application/json
      parameters:
        - in: path
          name: name
          description: Name of the webhook
          required: true
          type: string
      responses:
        '200':
          description: Success
          schema:
            $ref: '#/definitions/Luna.Gallery.Public.Client.ApplicationPublisher'
      security:
        - x-functions-key: [ ]
  /api/gallery/applicationpublishers:
    get:
      tags:
        - ML Gallery
      summary: List publishers
      operationId: getApiGalleryApplicationpublishers
      produces:
        - application/json
      parameters:
        - in: query
          name: type
          description: Type of the publisher
          type: string
      responses:
        '200':
          description: Success
          schema:
            type: array
            items:
              $ref: '#/definitions/Luna.Gallery.Public.Client.ApplicationPublisher'
            example:
              Name: ace
              DisplayName: ACE team
              Type: Internal
              Description: Azure Customer Engineering Team
              EndpointUrl: https://aka.ms/aceendpoint
              WebsiteUrl: https://aka.ms/acewebsite
              IsEnabled: true
              PublisherKey: publisher-key
              CreatedTime: 
              LastUpdatedTime: 
      security:
        - x-functions-key: [ ]
  '/api/reviewsettings/webhooks/{name}':
    put:
      tags:
        - Review Settings
      summary: Create an automation webhook
      operationId: putApiReviewsettingsWebhooksByName
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: path
          name: name
          description: Name of the webhook
          required: true
          type: string
        - in: body
          name: body
          description: Request contract
          required: true
          schema:
            $ref: '#/definitions/Luna.Publish.Public.Client.AutomationWebhook'
      responses:
        '200':
          description: Success
          schema:
            $ref: '#/definitions/Luna.Publish.Public.Client.AutomationWebhook'
      security:
        - x-functions-key: [ ]
    patch:
      tags:
        - Review Settings
      summary: Update an automation webhook
      operationId: patchApiReviewsettingsWebhooksByName
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: path
          name: name
          description: Name of the automation webhook
          required: true
          type: string
        - in: body
          name: body
          description: Request contract
          required: true
          schema:
            $ref: '#/definitions/Luna.Publish.Public.Client.AutomationWebhook'
      responses:
        '200':
          description: Success
          schema:
            $ref: '#/definitions/Luna.Publish.Public.Client.AutomationWebhook'
      security:
        - x-functions-key: [ ]
    delete:
      tags:
        - Review Settings
      summary: Delete an automation webhook
      operationId: deleteApiReviewsettingsWebhooksByName
      parameters:
        - in: path
          name: name
          description: Name of the automation webhook
          required: true
          type: string
      responses:
        '204':
          description: Success
      security:
        - x-functions-key: [ ]
    get:
      tags:
        - Review Settings
      summary: Get an automation webhook
      operationId: getApiReviewsettingsWebhooksByName
      produces:
        - application/json
      parameters:
        - in: path
          name: name
          description: Name of the automation webhook
          required: true
          type: string
      responses:
        '200':
          description: Success
          schema:
            $ref: '#/definitions/Luna.Publish.Public.Client.AutomationWebhook'
      security:
        - x-functions-key: [ ]
  /api/reviewsettings/webhooks:
    get:
      tags:
        - Application Review
      summary: List automation webhooks
      operationId: getApiReviewsettingsWebhooks
      produces:
        - application/json
      responses:
        '200':
          description: Success
          schema:
            type: array
            items:
              $ref: '#/definitions/Luna.Publish.Public.Client.AutomationWebhook'
            example:
              Name: responsible-ai-scan
              Description: Check responsible AI
              WebhookUrl: https://aka.ms/lunaresponsibleai
              IsEnabled: true
              CreatedTime: 
              LastUpdatedTime: 
      security:
        - x-functions-key: [ ]
definitions:
  Luna.PubSub.Public.Client.EventStoreInfo:
    required:
      - Name
      - ConnectionString
      - ValidEventTypes
      - ConnectionStringValidThroughUtc
    type: object
    properties:
      Name:
        type: string
      ConnectionString:
        type: string
      ValidEventTypes:
        type: array
        items:
          type: string
      ConnectionStringValidThroughUtc:
        format: date-time
        type: string
    example:
      Name: ApplicationEvents
      ConnectionString: Azure-Table-Storage-Connection-String-With-SaS-Key
      ValidEventTypes:
        - DELETE_APPLICATION_EVENT
        - PUBLISH_APPLICATION_EVENT
      ConnectionStringValidThroughUtc: '2021-06-09T17:23:13.1352800-07:00'
  Luna.PubSub.Public.Client.LunaEventSubscriber:
    type: object
    properties:
      SubscriberServiceName:
        type: string
      SubscriberFunctionName:
        type: string
      SubscriberQueueName:
        type: string
      ExcludedEventTypes:
        type: array
        items:
          type: string
  Luna.Publish.Public.Client.MarketplaceOffer:
    required:
      - OfferId
      - Properties
      - Plans
      - Parameters
    type: object
    properties:
      OfferId:
        type: string
      Status:
        type: string
      Properties:
        $ref: '#/definitions/Luna.Publish.Public.Client.MarketplaceOfferProp'
      Plans:
        type: array
        items:
          $ref: '#/definitions/Luna.Publish.Public.Client.MarketplacePlan'
      Parameters:
        type: array
        items:
          $ref: '#/definitions/Luna.Publish.Public.Client.MarketplaceParameter'
      ProvisioningSteps:
        type: array
        items:
          $ref: '#/definitions/Luna.Publish.Public.Client.MarketplaceProvisioningStep'
      ProvisioningStepsSecretName:
        type: string
  Luna.Publish.Public.Client.MarketplaceOfferProp:
    required:
      - DisplayName
      - Description
    type: object
    properties:
      DisplayName:
        type: string
      Description:
        type: string
      IsManualActivation:
        type: boolean
  Luna.Publish.Public.Client.MarketplacePlan:
    required:
      - PlanId
      - Parameters
    type: object
    properties:
      PlanId:
        type: string
      Properties:
        $ref: '#/definitions/Luna.Publish.Public.Client.MarketplacePlanProp'
      Parameters:
        type: array
        items:
          $ref: '#/definitions/Luna.Publish.Public.Client.MarketplaceParameter'
  Luna.Publish.Public.Client.MarketplacePlanProp:
    required:
      - Description
      - Mode
    type: object
    properties:
      Description:
        type: string
      Mode:
        type: string
      OnSubscribe:
        type: array
        items:
          type: string
      OnUpdate:
        type: array
        items:
          type: string
      OnSuspend:
        type: array
        items:
          type: string
      OnDelete:
        type: array
        items:
          type: string
      OnPurge:
        type: array
        items:
          type: string
  Luna.Publish.Public.Client.MarketplaceParameter:
    required:
      - ParameterName
      - DisplayName
      - Description
      - ValueType
    type: object
    properties:
      ParameterName:
        type: string
      DisplayName:
        type: string
      Description:
        type: string
      ValueType:
        type: string
      FromList:
        type: boolean
      ValueList:
        type: string
      Maximum:
        format: int32
        type: integer
      Minimum:
        format: int32
        type: integer
      IsRequired:
        type: boolean
  Luna.Publish.Public.Client.MarketplaceProvisioningStep:
    required:
      - Name
      - Type
      - Properties
    type: object
    properties:
      Name:
        type: string
      Type:
        type: string
      Properties:
        $ref: '#/definitions/Luna.Publish.Public.Client.BaseProvisioningStepProp'
  Luna.Publish.Public.Client.BaseProvisioningStepProp:
    required:
      - IsSynchronized
      - Description
    type: object
    properties:
      IsSynchronized:
        type: boolean
      Description:
        type: string
  Luna.Gallery.Public.Client.MarketplaceSubscription:
    required:
      - Id
      - PublisherId
      - OfferId
      - Name
      - PlanId
    type: object
    properties:
      Id:
        format: uuid
        type: string
        example: 00000000-0000-0000-0000-000000000000
      PublisherId:
        type: string
      OfferId:
        type: string
      Name:
        type: string
      SaaSSubscriptionStatus:
        type: string
      PlanId:
        type: string
      AllowedCustomerOperations:
        type: array
        items:
          type: string
      Token:
        type: string
      InputParameters:
        type: array
        items:
          $ref: '#/definitions/Luna.Gallery.Public.Client.MarketplaceSubscriptionParameter'
    example:
      Id: 7de85fed-9f81-44c0-ab36-d4540064200e
      PublisherId: ms-ace
      OfferId: textanalytics
      Name: My sub
      SaaSSubscriptionStatus: Subscribed
      PlanId: default
      AllowedCustomerOperations: [ ]
      Token: 
      InputParameters: [ ]
  Luna.Gallery.Public.Client.MarketplaceSubscriptionParameter:
    type: object
    properties:
      Name:
        type: string
      Type:
        type: string
      Value:
        type: string
      IsSystemParameter:
        type: boolean
  Luna.Publish.Public.Client.LunaApplicationMasterKeysResponse:
    required:
      - PrimaryMasterKey
      - SecondaryMasterKey
    type: object
    properties:
      PrimaryMasterKey:
        type: string
      SecondaryMasterKey:
        type: string
    example:
      PrimaryMasterKey: 92d3dd2a428540e7871aee92af26fc7d
      SecondaryMasterKey: 60158cd36c464531bf40a6c7efc629cd
  Luna.Publish.Public.Client.LunaApplication:
    required:
      - Name
      - Status
      - APIs
    type: object
    properties:
      Name:
        type: string
      Status:
        type: string
      Properties:
        $ref: '#/definitions/Luna.Publish.Public.Client.LunaApplicationProp'
      APIs:
        type: array
        items:
          $ref: '#/definitions/Luna.Publish.Public.Client.LunaAPI'
  Luna.Publish.Public.Client.LunaApplicationProp:
    required:
      - DisplayName
      - Description
      - DocumentationUrl
      - LogoImageUrl
      - Publisher
      - Tags
    type: object
    properties:
      OwnerUserId:
        type: string
      DisplayName:
        type: string
      Description:
        type: string
      DocumentationUrl:
        type: string
      LogoImageUrl:
        type: string
      Publisher:
        type: string
      Tags:
        type: array
        items:
          $ref: '#/definitions/Luna.Publish.Public.Client.LunaApplicationTag'
      CreatedBy:
        type: string
      PrimaryMasterKeySecretName:
        type: string
      SecondaryMasterKeySecretName:
        type: string
    example:
      OwnerUserId: 43ebb35e-be1a-4dbf-92da-fb8a069d6a2c
      DisplayName: My App
      Description: This is my application
      DocumentationUrl: https://aka.ms/lunadoc
      LogoImageUrl: https://aka.ms/lunalogo.png
      Publisher: Microsoft
      Tags:
        - Key: Department
          Value: HR
      CreatedBy: 
      PrimaryMasterKeySecretName: 
      SecondaryMasterKeySecretName: 
  Luna.Publish.Public.Client.LunaApplicationTag:
    type: object
    properties:
      Key:
        type: string
      Value:
        type: string
  Luna.Publish.Public.Client.LunaAPI:
    type: object
    properties:
      Name:
        type: string
      Properties:
        $ref: '#/definitions/Luna.Publish.Public.Client.BaseLunaAPIProp'
      Versions:
        type: array
        items:
          $ref: '#/definitions/Luna.Publish.Public.Client.APIVersion'
  Luna.Publish.Public.Client.BaseLunaAPIProp:
    required:
      - DisplayName
      - Type
      - Description
    type: object
    properties:
      DisplayName:
        type: string
      Type:
        type: string
      Description:
        type: string
      AdvancedSettings:
        type: string
    example:
      DisplayName: sentimentanalysis
      Type: Pipeline
      Description: Sentiment analysis API
      AdvancedSettings: 
  Luna.Publish.Public.Client.APIVersion:
    type: object
    properties:
      Name:
        type: string
      Properties:
        $ref: '#/definitions/Luna.Publish.Public.Client.BaseAPIVersionProp'
  Luna.Publish.Public.Client.BaseAPIVersionProp:
    required:
      - Type
      - Description
    type: object
    properties:
      Type:
        type: string
      Description:
        type: string
      AdvancedSettings:
        type: string
    example:
      Type: AzureML
      Description: API version from Azure ML workspace
      AdvancedSettings: 
  Luna.Publish.Public.Client.LunaApplicationRequest:
    required:
      - displayName
      - description
      - documentationUrl
      - logoImageUrl
      - publisher
      - tags
    type: object
    properties:
      ownerUserId:
        type: string
      displayName:
        type: string
      description:
        type: string
      documentationUrl:
        type: string
      logoImageUrl:
        type: string
      publisher:
        type: string
      tags:
        type: array
        items:
          $ref: '#/definitions/Luna.Publish.Public.Client.LunaTagRequest'
    example:
      ownerUserId: 43ebb35e-be1a-4dbf-92da-fb8a069d6a2c
      displayName: My App
      description: This is my application
      documentationUrl: https://aka.ms/lunadoc
      logoImageUrl: https://aka.ms/lunalogo.png
      publisher: Microsoft
      tags:
        - key: Department
          value: HR
  Luna.Publish.Public.Client.LunaTagRequest:
    type: object
    properties:
      key:
        type: string
      value:
        type: string
  Luna.Publish.Public.Client.LunaApplicationResponse:
    required:
      - DisplayName
      - Description
      - DocumentationUrl
      - LogoImageUrl
      - Publisher
      - Tags
      - Status
      - CreatedTime
      - LastUpdatedTime
    type: object
    properties:
      Name:
        type: string
      OwnerUserId:
        type: string
      DisplayName:
        type: string
      Description:
        type: string
      DocumentationUrl:
        type: string
      LogoImageUrl:
        type: string
      Publisher:
        type: string
      Tags:
        type: array
        items:
          $ref: '#/definitions/Luna.Publish.Public.Client.LunaTagResponse'
      Status:
        type: string
      CreatedTime:
        format: date-time
        type: string
      LastUpdatedTime:
        format: date-time
        type: string
    example:
      Name: myapp
      OwnerUserId: 43ebb35e-be1a-4dbf-92da-fb8a069d6a2c
      DisplayName: My App
      Description: This is my application
      DocumentationUrl: https://aka.ms/lunadoc
      LogoImageUrl: https://aka.ms/lunalogo.png
      Publisher: Microsoft
      Tags:
        - Key: Department
          Value: HR
      Status: Published
      CreatedTime: '2021-01-01T12:00:00.0000000-08:00'
      LastUpdatedTime: '2021-01-01T12:00:00.0000000-08:00'
  Luna.Publish.Public.Client.LunaTagResponse:
    type: object
    properties:
      Key:
        type: string
      Value:
        type: string
  Luna.RBAC.Public.Client.RoleAssignmentRequest:
    required:
      - Uid
      - UserName
      - Role
    type: object
    properties:
      Uid:
        type: string
      UserName:
        type: string
      Role:
        type: string
      CreatedTime:
        format: date-time
        type: string
    example:
      Uid: b46324b3-6a92-4e35-84be-fa1b2919af69
      UserName: FirstName LastName
      Role: SystemAdmin
      CreatedTime: '0001-01-01T00:00:00.0000000-08:00'
  Luna.RBAC.Public.Client.RoleAssignmentResponse:
    required:
      - Uid
      - UserName
      - Role
    type: object
    properties:
      Uid:
        type: string
      UserName:
        type: string
      Role:
        type: string
      CreatedTime:
        format: date-time
        type: string
  Luna.Partner.Public.Client.BasePartnerServiceConfiguration:
    required:
      - DisplayName
      - Description
      - Type
    type: object
    properties:
      DisplayName:
        type: string
      Description:
        type: string
      Type:
        type: string
      Tags:
        type: string
    example:
      DisplayName: My Azure ML workspace
      Description: Azure ML workspace
      Type: AzureML
      Tags: ''
  Luna.Partner.Public.Client.PartnerServiceOutlineResponse:
    required:
      - UniqueName
      - DisplayName
      - Type
      - Description
    type: object
    properties:
      UniqueName:
        type: string
      DisplayName:
        type: string
      Type:
        type: string
      Description:
        type: string
      Tags:
        type: string
      CreatedTime:
        format: date-time
        type: string
      LastUpdatedTime:
        format: date-time
        type: string
  Luna.Partner.Public.Client.ServiceType:
    required:
      - Id
      - DisplayName
    type: object
    properties:
      Id:
        type: string
      DisplayName:
        type: string
  Luna.Partner.Public.Client.ComponentType:
    required:
      - Id
      - DisplayName
    type: object
    properties:
      Id:
        type: string
      DisplayName:
        type: string
  Luna.Partner.Public.Client.BaseMLComponent:
    required:
      - Type
      - Id
      - Name
    type: object
    properties:
      Type:
        type: string
      Id:
        type: string
      Name:
        type: string
  Luna.Partner.Public.Client.AzureMLWorkspaceConfiguration:
    required:
      - Region
      - ResourceId
      - TenantId
      - ClientId
      - ClientSecret
      - DisplayName
      - Description
      - Type
    type: object
    properties:
      Region:
        type: string
      ResourceId:
        type: string
      TenantId:
        type: string
      ClientId:
        type: string
      ClientSecret:
        type: string
      DisplayName:
        type: string
      Description:
        type: string
      Type:
        type: string
      Tags:
        type: string
    example:
      DisplayName: My Azure ML workspace
      Description: Azure ML workspace
      Type: AzureML
      Tags: purpose=prod;org=hr
      ResourceId: /subscriptions/fcd14a2a-31d3-49c1-9e1b-39063da1ac6a/resourceGroups/rg-name/providers/Microsoft.MachineLearningServices/workspaces/workspace-name
      TenantId: 43ebb35e-be1a-4dbf-92da-fb8a069d6a2c
      ClientId: 114b34b1-4f9a-4888-926a-b222d3b36ef6
      ClientSecret: my-client-secret
      Region: westus
  Luna.Gallery.Public.Client.PublishedLunaApplication:
    required:
      - UniqueName
      - DisplayName
      - Description
      - Publisher
      - Tags
    type: object
    properties:
      UniqueName:
        type: string
      DisplayName:
        type: string
      Description:
        type: string
      LogoImageUrl:
        type: string
      DocumentationUrl:
        type: string
      Publisher:
        type: string
      Tags:
        type: array
        items:
          $ref: '#/definitions/Luna.Gallery.Public.Client.LunaPublishedApplicationTag'
      Details:
        $ref: '#/definitions/Luna.Gallery.Public.Client.LunaApplicationDetails'
    example:
      UniqueName: mylunaapp
      DisplayName: My Luna App
      Description: This is my Luna app
      LogoImageUrl: https://aka.ms/lunalog.png
      DocumentationUrl: https://aka.ms/lunadoc
      Publisher: Microsoft
      Tags: [ ]
      Details:
        APIs: [ ]
  Luna.Gallery.Public.Client.LunaPublishedApplicationTag:
    type: object
    properties:
      Name:
        type: string
      Value:
        type: string
  Luna.Gallery.Public.Client.LunaApplicationDetails:
    type: object
    properties:
      APIs:
        type: array
        items:
          $ref: '#/definitions/Luna.Gallery.Public.Client.LunaAPIDetails'
  Luna.Gallery.Public.Client.LunaAPIDetails:
    type: object
    properties:
      Name:
        type: string
      Type:
        type: string
      Versions:
        type: array
        items:
          $ref: '#/definitions/Luna.Gallery.Public.Client.LunaAPIVersionDetails'
  Luna.Gallery.Public.Client.LunaAPIVersionDetails:
    type: object
    properties:
      Name:
        type: string
      Operations:
        type: array
        items:
          type: string
  Luna.Gallery.Public.Client.LunaApplicationSwagger:
    type: object
    properties:
      APIs:
        type: array
        items:
          $ref: '#/definitions/Luna.Gallery.Public.Client.LunaAPIDetails'
  Luna.Gallery.Public.Client.LunaApplicationSubscription:
    required:
      - SubscriptionId
      - SubscriptionName
    type: object
    properties:
      SubscriptionId:
        format: uuid
        type: string
        example: 00000000-0000-0000-0000-000000000000
      SubscriptionName:
        type: string
      PrimaryKey:
        type: string
      SecondaryKey:
        type: string
      BaseUrl:
        type: string
      Notes:
        type: string
      Owners:
        type: array
        items:
          $ref: '#/definitions/Luna.Gallery.Public.Client.LunaApplicationSubscriptionOwner'
      CreatedTime:
        format: date-time
        type: string
    example:
      SubscriptionId: 0eb1e9dd-df4e-4b03-9e8f-6d8ac0eab782
      SubscriptionName: mysub
      PrimaryKey: 60158cd36c464531bf40a6c7efc629cd
      SecondaryKey: fc7cfaab23b0494aa53f178f7fbc720c
      BaseUrl: https://luna.azurewebapp.net/api
      Notes: this is my subscription
      Owners:
        - UserId: c4627f84-c3a8-45b3-8709-565bd2e50b97
          UserName: FirstName LastName
      CreatedTime: '2021-06-10T18:00:30.1320267-07:00'
  Luna.Gallery.Public.Client.LunaApplicationSubscriptionOwner:
    required:
      - UserId
    type: object
    properties:
      UserId:
        type: string
      UserName:
        type: string
    example:
      UserId: 2d88c6a1-8ece-49e8-8b23-673c6a4272d2
      UserName: FirstName LastName
  Luna.Gallery.Public.Client.LunaApplicationSubscriptionKeys:
    required:
      - PrimaryKey
      - SecondaryKey
    type: object
    properties:
      PrimaryKey:
        type: string
      SecondaryKey:
        type: string
    example:
      PrimaryKey: 3cbeda43ef6b4dc0b61220fbb2f7dda4
      SecondaryKey: fc7cfaab23b0494aa53f178f7fbc720c
  Luna.Gallery.Public.Client.LunaApplicationSubscriptionNotes:
    required:
      - Notes
    type: object
    properties:
      Notes:
        type: string
    example:
      Notes: this is my subscription
  Luna.Gallery.Public.Client.ApplicationPublisher:
    required:
      - Name
      - DisplayName
      - Type
      - Description
      - IsEnabled
    type: object
    properties:
      Name:
        type: string
      DisplayName:
        type: string
      Type:
        type: string
      Description:
        type: string
      EndpointUrl:
        type: string
      WebsiteUrl:
        type: string
      IsEnabled:
        type: boolean
      PublisherKey:
        type: string
      CreatedTime:
        format: date-time
        type: string
      LastUpdatedTime:
        format: date-time
        type: string
    example:
      Name: ace
      DisplayName: ACE team
      Type: Internal
      Description: Azure Customer Engineering Team
      EndpointUrl: https://aka.ms/aceendpoint
      WebsiteUrl: https://aka.ms/acewebsite
      IsEnabled: true
      PublisherKey: publisher-key
      CreatedTime: 
      LastUpdatedTime: 
  Luna.Publish.Public.Client.AutomationWebhook:
    required:
      - Name
      - Description
      - WebhookUrl
      - IsEnabled
    type: object
    properties:
      Name:
        type: string
      Description:
        type: string
      WebhookUrl:
        type: string
      IsEnabled:
        type: boolean
      CreatedTime:
        format: date-time
        type: string
      LastUpdatedTime:
        format: date-time
        type: string
    example:
      Name: responsible-ai-scan
      Description: Check responsible AI
      WebhookUrl: https://aka.ms/lunaresponsibleai
      IsEnabled: true
      CreatedTime: 
      LastUpdatedTime: 
securityDefinitions:
  http-bearer: { }
  x-functions-key:
    type: apiKey
    name: x-functions-key
    in: header
    description: Azure function key